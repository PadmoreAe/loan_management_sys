

<div class="container-fluid">
<p id="notice"><%= notice %></p>

<h1>Payouts</h1>
<%= link_to 'Add New Payout', new_payout_path, class: "btn btn-success" %><br /><br />

<input id="myInputTextFielddd" type="text" class="form-control" placeholder="Search Investors"><br /><br />

<table class="table" id="payout-list">
  <thead>
    <tr>
      <th>Investor</th>
      <th>Contribution</th>
      <th>Amount</th>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @payouts.each do |payout| %>
      <tr>
        <td><%= payout.investor.first_name %></td>
        <td><%= payout.contribution.amount %></td>
        <td><%= payout.amount %></td>
        <td><%= payout.date %></td>
        <td><%= link_to 'Show', payout %></td>
        <td><%= link_to 'Edit', edit_payout_path(payout) %></td>
        <td><%= link_to 'Destroy', payout, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>


<% content_for :page_scripts do %>
  <script>
    function readyy(){
      let oTable = $('#payout-list').DataTable({ pageLength: 50}); 
      $('#myInputTextFielddd').keyup(function(){
          oTable.search($(this).val()).draw() ;
      })
    }
    $(document).ready(readyy)
  </script>

<% end %>
</div>